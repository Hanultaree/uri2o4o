<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.5">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

   </head>
 <body>
<div class="container">
</div>
<div id="player"></div>
	<script type="text/javascript">

var selm = ""; var titlm = ""; var h = '280'; var w = '500';
var seln = "";  var titln = ""; var a=0; var b=5;
selm = "FQRrFVZAbs0";
seln = "FQRrFVZAbs0,FQRrFVZAbs0,MRrXRlVd0P0,0fqtesY3guw,4WQwW6FrDGc,jPFrHYXYxak,otzVrS5Ml64";

	var tag = document.createElement("script");
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

		// 영상의 정보를 담을 player 전역 변수 선언
		var player = "";
		
window.onload = function(){
  function musbox(){

    $(function () {
        onYouTubeIframeAPIReady();
	});
  };
  musbox();
};

function onYouTubeIframeAPIReady(){
        player = new YT.Player('player', {
              height : h
            , width : w
            , videoId : selm
            , playerVars: {
                'autoplay': 1                     // 자동재생
               , 'loop' : 1                         // 반복 0 : off, 1 : on
               , 'playlist' : seln                 // 반복 playlist
               , 'cc_load_policy' : 0           // 자막 0 : on, 1 : off
               , 'controls': 1                     // 동영상 플레이어 컨트롤 표기
               , 'disablekb' : 0                  // 키보드 컨트롤 사용 중지
            }
            , events: {
                'onReady' : onPlayerReady
//			   ,'onStateChange' : onPlayerStateChange  // 동영상 종료
			   ,'onError' : onPlayerError
            }
        });
}

function onPlayerStateChange(event) {   // 현재 동영상 재생 종료됬을 경우
	if (event.data == YT.PlayerState.ENDED) {   // 1초뒤에 다음 영상 실행
		console.log(event.data);
		setTimeout(onPlayerStateChange_excute, 1000); 
	}
} 

function onPlayerStateChange_excute() {console.log(PlayerState);}

    // 재생
 //   function onPlayerReady() {player.playVideo();	};
	function onPlayerReady(event) {event.target.playVideo();	};
    // 일시정지
    function pauseVideo() {player.pauseVideo();};
    // 종료
    function stopVideo() {player.stopVideo();};
	// Error
	function onPlayerError(){
	//	errlist.push('Error: ' + event.data + '\t' + rank + '\t' + title + '\t' + selm + '\r\n');
	//	return false;
		player.nextVideo();
	};

    // 음소거 On / Off
    function volumeMute() {
        // 음소거
        if(player.isMuted() == true) {player.unMute(); jQuery("#volumeMute").val("음소거");}
        // 음소거 해제
        else if(player.isMuted() == false) {player.mute(); jQuery("#volumeMute").val("음소거 해제");}
    };
    // 볼륨 조절
    function soundControl(number) { player.setVolume(number); };


 </script>
 </body>
</html>
